[tox]
envlist =
  py36
  py37
  codecov
  syntax


[testenv]
usedevelop = true
whitelist_externals =
  make
  bash

commands =
  make install
  make test cov-report=false


[testenv:syntax]
deps =
  flake8
  black
whitelist_externals = make
commands =
  make lint


[testenv:codecov]
passenv = CI TRAVIS TRAVIS_*
deps = codecov
skip_install = true
commands =
  coverage combine
  coverage report
  codecov

